<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dev Utilities - Essential Tools</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">‚ö°</div>
                    <div>
                        <div>Dev Utilities</div>
                        <div class="subtitle">Essential Tools</div>
                    </div>
                </div>
            </div>

            <div class="search-box">
                <input type="text" class="search-input" placeholder="Search features..." id="searchInput">
            </div>

            <nav>
                <div class="nav-section">
                    <div class="nav-section-title" onclick="toggleSection(this)">
                        <span>‚ñº Developer Tools</span>
                    </div>
                    <div class="nav-items">
                        <div class="nav-item active" data-tool="json-parser">
                            <span class="nav-item-icon">üìÑ</span>
                            <span>JSON Parser</span>
                        </div>
                        <div class="nav-item" data-tool="base64-encoder">
                            <span class="nav-item-icon">üîê</span>
                            <span>Base64 Encoder</span>
                        </div>
                        <div class="nav-item" data-tool="timestamp-converter">
                            <span class="nav-item-icon">üïê</span>
                            <span>Timestamp Converter</span>
                        </div>
                        <div class="nav-item" data-tool="jwt-decoder">
                            <span class="nav-item-icon">üîë</span>
                            <span>JWT Decoder</span>
                        </div>                        
                    </div>
                </div>
            </nav>

            <div class="theme-toggle" onclick="toggleTheme()">
                <span>Theme</span>
                <span class="theme-icon" id="themeIcon">üåô</span>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- JSON Parser Tool -->
            <div class="tool-section active" id="json-parser">
                <div class="content-header">
                    <div class="content-title">üìÑ JSON Parser & Formatter</div>
                    <div class="content-description">Parse, validate, and format JSON data with ease</div>
                </div>

                <div class="content-body">
                    <div class="format-options">
                        <div class="format-options-title">Format Options</div>
                        <div class="format-options-subtitle">Customize the JSON formatting</div>

                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div class="options-row">
                                <div class="option-group">
                                    <label class="option-label">Indent Size:</label>
                                    <input type="number" class="indent-input" id="indentSize" value="2" min="0" max="8">
                                </div>
                            </div>

                            <div class="button-group">
                                <button class="btn btn-primary" onclick="formatJSON()">
                                    <span>üìã</span> Format
                                </button>
                                <button class="btn btn-secondary" onclick="minifyJSON()">
                                    <span>üîÑ</span> Minify
                                </button>
                                <button class="btn btn-secondary" onclick="clearJSON()">
                                    <span>‚úñ</span> Clear
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="error-message" id="errorMessage"></div>

                    <div class="editor-container">
                        <div class="editor-panel">
                            <div class="editor-header">
                                <div>
                                    <div class="editor-title">Input JSON</div>
                                    <div class="editor-subtitle">Paste your JSON data here</div>
                                </div>
                                <div class="editor-actions">
                                    <button class="icon-btn" onclick="copyInput()" title="Copy">üìã</button>
                                </div>
                            </div>
                            <div class="editor-body">
                                <textarea class="code-editor" id="jsonInput" placeholder='Paste your JSON here...'></textarea>
                            </div>
                        </div>

                        <div class="editor-panel">
                            <div class="editor-header">
                                <div>
                                    <div class="editor-title">Formatted Output</div>
                                    <div class="editor-subtitle">Formatted and validated JSON output</div>
                                </div>
                                <div class="editor-actions">
                                    <button class="icon-btn" onclick="copyOutput()" title="Copy">üìã</button>
                                    <button class="icon-btn" onclick="downloadJSON()" title="Download">‚¨áÔ∏è</button>
                                </div>
                            </div>
                            <div class="editor-body">
                                <textarea class="code-editor" id="jsonOutput" placeholder="Formatted JSON will appear here..." readonly></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Base64 Encoder/Decoder Tool -->
            <div class="tool-section" id="base64-encoder">
                <div class="content-header">
                    <div class="content-title">üîê Base64 Encoder/Decoder</div>
                    <div class="content-description">Encode and decode Base64 data</div>
                </div>

                <div class="content-body">
                    <div style="margin-bottom: 16px;">
                        <span id="base64ModeLabel" class="btn btn-primary" style="padding: 6px 12px; font-size: 13px; cursor: default;">Encode Mode</span>
                    </div>

                    <div class="format-options">
                        <div class="format-options-title">Base64 Operations</div>
                        <div class="format-options-subtitle">Choose your operation and input data</div>

                        <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 12px;">
                            <div class="button-group">
                                <button class="btn btn-secondary" onclick="toggleBase64Mode()" id="base64ModeToggle">
                                    <span>üîÑ</span> Switch to Decode
                                </button>
                                <button class="btn btn-secondary" onclick="uploadBase64File()">
                                    <span>üìÅ</span> Upload File
                                </button>
                            </div>

                            <div class="button-group">
                                <button class="btn btn-secondary" onclick="loadBase64Sample()">
                                    <span>üîñ</span> Load Sample
                                </button>
                                <button class="btn btn-secondary" onclick="clearBase64()">
                                    <span>‚úñ</span> Clear All
                                </button>
                            </div>
                        </div>
                    </div>

                    <input type="file" id="base64FileInput" style="display: none;" onchange="handleBase64FileUpload(event)">

                    <div class="error-message" id="base64ErrorMessage"></div>

                    <div class="editor-container">
                        <div class="editor-panel">
                            <div class="editor-header">
                                <div>
                                    <div class="editor-title" id="base64InputTitle">Text to Encode</div>
                                    <div class="editor-subtitle" id="base64InputSubtitle">Enter text or upload a file to encode to Base64</div>
                                </div>
                                <div class="editor-actions">
                                    <button class="icon-btn" onclick="copyBase64Input()" title="Copy">üìã</button>
                                </div>
                            </div>
                            <div class="editor-body">
                                <textarea class="code-editor" id="base64Input" placeholder="Enter text to encode..." oninput="processBase64()"></textarea>
                            </div>
                        </div>

                        <div class="editor-panel">
                            <div class="editor-header">
                                <div>
                                    <div class="editor-title" id="base64OutputTitle">Base64 Encoded</div>
                                    <div class="editor-subtitle" id="base64OutputSubtitle">Base64 encoded output</div>
                                </div>
                                <div class="editor-actions">
                                    <button class="icon-btn" onclick="copyBase64Output()" title="Copy">üìã</button>
                                    <button class="icon-btn" onclick="downloadBase64()" title="Download">‚¨áÔ∏è</button>
                                </div>
                            </div>
                            <div class="editor-body">
                                <textarea class="code-editor" id="base64Output" placeholder="Base64 encoded result will appear here..." readonly></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Timestamp Converter Tool -->
            <div class="tool-section" id="timestamp-converter">
                <div class="content-header">
                    <div class="content-title">üïê Timestamp Converter</div>
                    <div class="content-description">Convert between Unix timestamps and human-readable dates</div>
                </div>

                <div class="content-body">
                    <!-- Current Time Display -->
                    <div class="format-options" style="margin-bottom: 24px;">
                        <div class="format-options-title">Current Time</div>
                        <div class="format-options-subtitle">Current timestamp and date formats</div>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 12px; margin-top: 16px;">
                            <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">Unix Timestamp (ms)</div>
                                <div style="font-family: monospace; font-size: 14px; color: var(--content-text);" id="currentTimestampMs">-</div>
                            </div>
                            <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">Unix Timestamp (s)</div>
                                <div style="font-family: monospace; font-size: 14px; color: var(--content-text);" id="currentTimestampS">-</div>
                            </div>
                            <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">ISO 8601</div>
                                <div style="font-family: monospace; font-size: 14px; color: var(--content-text);" id="currentISO">-</div>
                            </div>
                            <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">UTC</div>
                                <div style="font-family: monospace; font-size: 14px; color: var(--content-text);" id="currentUTC">-</div>
                            </div>
                            <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">Local Time</div>
                                <div style="font-family: monospace; font-size: 14px; color: var(--content-text);" id="currentLocal">-</div>
                            </div>
                            <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">Relative</div>
                                <div style="font-family: monospace; font-size: 14px; color: var(--content-text);" id="currentRelative">Just now</div>
                            </div>
                        </div>
                    </div>

                    <!-- Conversion Tabs -->
                    <div class="format-options">
                        <div class="format-options-title">Convert Timestamp</div>
                        <div class="format-options-subtitle">Convert between timestamp and date formats</div>

                        <div style="display: flex; gap: 8px; margin-top: 16px; margin-bottom: 16px;">
                            <button class="btn btn-primary" id="tabTimestampToDate" onclick="switchTimestampTab('timestampToDate')" style="flex: 1;">
                                Timestamp ‚Üí Date
                            </button>
                            <button class="btn btn-secondary" id="tabDateToTimestamp" onclick="switchTimestampTab('dateToTimestamp')" style="flex: 1;">
                                Date ‚Üí Timestamp
                            </button>
                        </div>

                        <!-- Tab: Timestamp to Date -->
                        <div id="timestampToDateTab" style="display: block;">
                            <div style="margin-bottom: 16px;">
                                <label style="display: block; font-size: 13px; color: var(--content-subtitle); margin-bottom: 8px;">Enter Unix Timestamp</label>
                                <div style="display: flex; gap: 8px;">
                                    <input type="text" id="timestampInput" placeholder="e.g., 1701234567 or 1701234567890" 
                                           style="flex: 1; padding: 10px; background: var(--editor-bg); border: 1px solid var(--border-color); border-radius: 6px; color: var(--content-text); font-family: monospace;"
                                           oninput="convertTimestampToDate()">
                                    <button class="btn btn-secondary" onclick="useCurrentTimestamp()">Use Current</button>
                                    <button class="btn btn-secondary" onclick="clearTimestampInput()">Clear</button>
                                </div>
                            </div>

                            <div id="timestampResults" style="display: none;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 12px;">
                                    <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                        <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">ISO 8601</div>
                                        <div style="font-family: monospace; font-size: 14px; color: var(--content-text); display: flex; justify-content: space-between; align-items: center;">
                                            <span id="resultISO">-</span>
                                            <button class="icon-btn" onclick="copyToClipboard(document.getElementById('resultISO').textContent)" title="Copy">üìã</button>
                                        </div>
                                    </div>
                                    <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                        <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">UTC</div>
                                        <div style="font-family: monospace; font-size: 14px; color: var(--content-text); display: flex; justify-content: space-between; align-items: center;">
                                            <span id="resultUTC">-</span>
                                            <button class="icon-btn" onclick="copyToClipboard(document.getElementById('resultUTC').textContent)" title="Copy">üìã</button>
                                        </div>
                                    </div>
                                    <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                        <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">Local Time</div>
                                        <div style="font-family: monospace; font-size: 14px; color: var(--content-text); display: flex; justify-content: space-between; align-items: center;">
                                            <span id="resultLocal">-</span>
                                            <button class="icon-btn" onclick="copyToClipboard(document.getElementById('resultLocal').textContent)" title="Copy">üìã</button>
                                        </div>
                                    </div>
                                    <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                        <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">Relative</div>
                                        <div style="font-family: monospace; font-size: 14px; color: var(--content-text);" id="resultRelative">-</div>
                                    </div>
                                    <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                        <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">Unix (seconds)</div>
                                        <div style="font-family: monospace; font-size: 14px; color: var(--content-text); display: flex; justify-content: space-between; align-items: center;">
                                            <span id="resultUnixS">-</span>
                                            <button class="icon-btn" onclick="copyToClipboard(document.getElementById('resultUnixS').textContent)" title="Copy">üìã</button>
                                        </div>
                                    </div>
                                    <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                        <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">Unix (milliseconds)</div>
                                        <div style="font-family: monospace; font-size: 14px; color: var(--content-text); display: flex; justify-content: space-between; align-items: center;">
                                            <span id="resultUnixMs">-</span>
                                            <button class="icon-btn" onclick="copyToClipboard(document.getElementById('resultUnixMs').textContent)" title="Copy">üìã</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tab: Date to Timestamp -->
                        <div id="dateToTimestampTab" style="display: none;">
                            <div style="margin-bottom: 16px;">
                                <label style="display: block; font-size: 13px; color: var(--content-subtitle); margin-bottom: 8px;">Enter Date and Time</label>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px;">
                                    <input type="date" id="dateInput" 
                                           style="padding: 10px; background: var(--editor-bg); border: 1px solid var(--border-color); border-radius: 6px; color: var(--content-text);"
                                           onchange="convertDateToTimestamp()">
                                    <input type="time" id="timeInput" step="1"
                                           style="padding: 10px; background: var(--editor-bg); border: 1px solid var(--border-color); border-radius: 6px; color: var(--content-text);"
                                           onchange="convertDateToTimestamp()">
                                </div>
                                <div style="display: flex; gap: 8px;">
                                    <button class="btn btn-secondary" onclick="useCurrentDate()">Use Current</button>
                                    <button class="btn btn-secondary" onclick="clearDateInput()">Clear</button>
                                </div>
                            </div>

                            <div id="dateResults" style="display: none;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 12px;">
                                    <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                        <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">Unix Timestamp (seconds)</div>
                                        <div style="font-family: monospace; font-size: 14px; color: var(--content-text); display: flex; justify-content: space-between; align-items: center;">
                                            <span id="dateResultUnixS">-</span>
                                            <button class="icon-btn" onclick="copyToClipboard(document.getElementById('dateResultUnixS').textContent)" title="Copy">üìã</button>
                                        </div>
                                    </div>
                                    <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                        <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">Unix Timestamp (milliseconds)</div>
                                        <div style="font-family: monospace; font-size: 14px; color: var(--content-text); display: flex; justify-content: space-between; align-items: center;">
                                            <span id="dateResultUnixMs">-</span>
                                            <button class="icon-btn" onclick="copyToClipboard(document.getElementById('dateResultUnixMs').textContent)" title="Copy">üìã</button>
                                        </div>
                                    </div>
                                    <div style="background: var(--editor-bg); padding: 12px; border-radius: 6px;">
                                        <div style="font-size: 12px; color: var(--content-subtitle); margin-bottom: 6px;">ISO 8601</div>
                                        <div style="font-family: monospace; font-size: 14px; color: var(--content-text); display: flex; justify-content: space-between; align-items: center;">
                                            <span id="dateResultISO">-</span>
                                            <button class="icon-btn" onclick="copyToClipboard(document.getElementById('dateResultISO').textContent)" title="Copy">üìã</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="error-message" id="timestampErrorMessage"></div>
                </div>
            </div>

            <!-- Placeholder Tools -->
            <div class="tool-section" id="jwt-decoder">
                <div class="content-header">
                    <div class="content-title">üîë JWT Decoder</div>
                    <div class="content-description">Coming soon...</div>
                </div>
            </div>
            
        </main>
    </div>
</body>
<script src="scripts.js"></script>
</html>
